<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-sclae=1, maximum-scale=1">
  <link rel="stylesheet" href="assets/css/shop_Search.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
  <title>Shop Search Page_2</title>
</head>
<style>
  #my_modal {
    display: none;
    text-align: center;
    width: 250px;
    padding: 30px 20px;
    background-color: #fefefe;
    border: 1px solid #888;
    border-radius: 3px;
    font-weight: bold;
  }

  #my_modal .modal_close_btn {
    background-color: #7AD8DF;
    padding: 10px 100px;
    color: white;
    font-weight: bold;
  }
</style>

<body>
  <!-- Banner -->
  <section id="banner">
    <a href="shop_Search_Page_1.html">
      <img src="images/icon/arrow-left-white.svg">
    </a>
    <div>
      <h5>정상가 14,000원</h5>
      <div>
        <h4>50%</h4>
        <h4>7,000원</h4>
      </div>
    </div>
  </section>

  <div id="wrap">
    <!-- Shop Tab Menu  -->
    <section id="tab-Menu">
      <div class="allWrap">
        <div class="text-content">
          <h3>가게명_1</h3>
          <P>서브텍스트</P>
          <P>서브텍스트</P>
        </div>
        <div class="content-text price">
          <p>가격</p>
          <p>7,000원</p>
        </div>
        <div class="content-text count">
          <p>수량</p>
          <div style="display: flex;">
            <input type='button' onclick='count("minus")' value='-' style="width: 24px; height: 24px;" />
            <div id='result' style="width:50px; height: 23px; text-align: center; border: 1px solid #cccccc;">0</div>
            <input type='button' onclick='count("plus")' value='+' style="width: 24px; height: 24px;" />
          </div>
        </div>
        <div class="content-text total" style="font-size: 130%; font-weight: bold;">
          <p>총 주문금액</p>
          <p>7,000원</p>
        </div>
        <div class="search-page2"><button>장바구니 담기</button></div>

      </div>
    </section>
    <!-- modal -->
    <div id="my_modal">
      구매가능한 최대수량은 3개입니다.
      <br>
      <br>
      <br>
      <a class="modal_close_btn">확인</a>
    </div>


    <!-- Bottom Menu Bar -->
    <div id="bottom-menu">
      <div><a href="main_Page_1.html"><img src="images/icon/home_icon.svg">
          <div>홈</div>
        </a></div>
      <div><a href="near_Shop_Page_1.html"><img src="images/icon/map_icon.svg">
          <div>내 주변</div>
        </a></div>
      <div><a href="order_History.html"><img src="images/icon/order_icon.svg">
          <div>주문내역</div>
        </a></div>
      <div><a href="my_Page_1.html"><img src="images/icon/my_icon.svg">
          <div>나의 팩밀</div>
        </a></div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="/pacmeal_frame/User/assets/js/tablink.js"></script>
  <script> // incress button
    function count(type) {
      // 결과를 표시할 element
      const resultElement = document.getElementById('result');

      // 현재 화면에 표시된 값
      let number = resultElement.innerText;

      // 더하기/빼기
      if (type === 'plus') {
        number = parseInt(number) + 1;
      } else if (type === 'minus') {
        number = parseInt(number) - 1;
      }
      if (number <= 0) number = 0;
      // 결과 출력
      const maxNumber = 3;
      if (number >= maxNumber) {
        modal('my_modal');
        number = maxNumber;
      }
      resultElement.innerText = number;
    }
  </script>
  <script>
    function modal(id) {
      var zIndex = 9999;
      var modal = document.getElementById(id);

      // 모달 div 뒤에 희끄무레한 레이어
      var bg = document.createElement('div');
      bg.setStyle({
        position: 'fixed',
        zIndex: zIndex,
        left: '0px',
        top: '0px',
        width: '100%',
        height: '100%',
        overflow: 'auto',
        // 레이어 색갈은 여기서 바꾸면 됨
        backgroundColor: 'rgba(0,0,0,0.4)'
      });
      document.body.append(bg);

      // 닫기 버튼 처리, 시꺼먼 레이어와 모달 div 지우기
      modal.querySelector('.modal_close_btn').addEventListener('click', function () {
        bg.remove();
        modal.style.display = 'none';
      });

      modal.setStyle({
        position: 'fixed',
        display: 'block',
        boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',

        // 시꺼먼 레이어 보다 한칸 위에 보이기
        zIndex: zIndex + 1,

        // div center 정렬
        top: '50%',
        left: '50%',
        transform: 'translate(-50%, -50%)',
        msTransform: 'translate(-50%, -50%)',
        webkitTransform: 'translate(-50%, -50%)'
      });
    }

    // Element 에 style 한번에 오브젝트로 설정하는 함수 추가
    Element.prototype.setStyle = function (styles) {
      for (var k in styles) this.style[k] = styles[k];
      return this;
    };

    // document.getElementById('order-menu').addEventListener('click', function () {
    //   // 모달창 띄우기
    //   modal('my_modal');
    // });
  </script>

</body>

</html>